function Trackball(a,b){var c,d,e=!1,f=vec3.create(),g=vec3.create(),h=vec3.create(),i=mat4.create(),j=mat4.create(),k=quat.create(),l=quat.create(),m=[];m.push(vec3.fromValues(1,0,0)),m.push(vec3.fromValues(-1,0,0)),m.push(vec3.fromValues(0,1,0)),m.push(vec3.fromValues(0,-1,0)),m.push(vec3.fromValues(0,0,1)),m.push(vec3.fromValues(0,0,-1)),this.orientation=function(a){var b,c=m[0],d=vec3.dot(vec3.transformQuat(vec3.create(),c,k),a),e=0,f=0;return m.forEach(function(c){b=vec3.dot(vec3.transformQuat(vec3.create(),c,k),a),b>d&&(d=b,e=f),f++}),e},this.interpolate=function(a,c){var d=b.width,e=b.height,f=b.getBoundingClientRect().left,g=b.getBoundingClientRect().top;return[(a-f-d/2)/(d/2),(e/2+g-c)/(e/2)]},this.push=function(a,b){e=!0,h=Math.sqrt(Math.pow(a,2)+Math.pow(b,2))>1?[a,b,0]:[a,b,Math.sqrt(1-Math.pow(a,2)-Math.pow(b,2))],vec3.normalize(h,h)},this.move=function(b,m){e&&(g=Math.sqrt(Math.pow(b,2)+Math.pow(m,2))>1?[b,m,0]:[b,m,Math.sqrt(1-Math.pow(b,2)-Math.pow(m,2))],vec3.normalize(g,g),d=vec3.dot(h,g),c=d>1?0:Math.acos(d),vec3.cross(f,h,g),vec3.normalize(f,f),a?(quat.setAxisAngle(l,f,c),quat.multiply(k,l,k),quat.normalize(k,k),mat4.fromQuat(j,k)):(mat4.rotate(j,i,c,f),i=j),h=g)},this.release=function(){e=!1},this.rotation=function(){return j},this.setMode=function(b){a=b}}